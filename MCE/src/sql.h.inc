
const char *strQueryAllZone = "SELECT DISTINCT zone_id FROM dap_ad_zone_assoc WHERE zone_id > 0;";

const char *strQueryInstance = "SELECT * FROM dap_banner_views WHERE banner_id = ?;";

const char *strQueryZoneInfo = "SELECT "
                                              "z.zoneid AS id,"
                                              "z.zonename AS name,"
                                              "z.delivery AS type,"
                                              "z.description AS description,"
                                              "z.width AS width,"
                                              "z.height AS height,"
                                              "z.chain AS chain,"
                                              "z.prepend AS prepend,"
                                              "z.append AS append,"
                                              "z.appendtype AS appendtype,"
                                              "z.forceappend AS forceappend,"
                                              "z.inventory_forecast_type AS inventory_forecast_type,"
                                              "z.block AS block_zone,"
                                              "z.capping AS cap_zone,"
                                              "z.session_capping AS session_cap_zone,"
                                              "z.show_capped_no_cookie AS show_capped_no_cookie_zone,"
                                              "z.ext_adselection AS ext_adselection,"
                                              "z.affiliateid AS publisher_id,"
                                              "a.agencyid AS agency_id,"
                                              "a.account_id AS trafficker_account_id,"
                                              "m.account_id AS manager_account_id,"
                                              "z.pc_ad_render as ad_render,"
                                              "z.pc_ad_render_name as ad_render_name,"
                                              "z.pc_ad_render_value_true as ad_render_value_true,"
                                              "z.pc_ad_render_value_false as ad_render_value_false"
                                                 " FROM "
                                              "`dap_zones`    AS z,"
                                              "`dap_affiliates`    AS a,"    
                                              "`dap_agency`    AS m"    
                                                 " WHERE "
                                              "z.zoneid = ?"
                                                 " AND "
                                              "z.affiliateid = a.affiliateid"
                                                 " AND "
                                              "a.agencyid = m.agencyid;";

const char *strQueryZoneLinkedAds  = "SELECT "										
"d.bannerid AS ad_id,"
"d.campaignid AS placement_id,"																						 
"d.status AS status,"
"d.width AS width,"
    																					"d.ext_bannertype AS ext_bannertype,"
   																						"d.height AS height,"
   																						"d.storagetype AS type,"
   																						"d.contenttype AS contenttype,"
    			  																		"d.weight AS weight,"
   																						"d.adserver AS adserver,"
  																						"d.block AS block_ad,"
																						"d.capping AS cap_ad,"
     																					"d.session_capping AS session_cap_ad,"
    																					"d.compiledlimitation AS compiledlimitation,"
    																					"d.acl_plugins AS acl_plugins,"
    																					"d.alt_filename AS alt_filename,"
    																					"az.priority AS priority,"
																						"az.priority_factor AS priority_factor,"
																						"az.to_be_delivered AS to_be_delivered,"
																						"c.campaignid AS campaign_id,"
																						"c.priority AS campaign_priority,"
																						"c.weight AS campaign_weight,"
																						"c.companion AS campaign_companion,"
																						"c.block AS block_campaign,"
																						"c.capping AS cap_campaign,"
																						"c.session_capping AS session_cap_campaign,"
																						"c.show_capped_no_cookie AS show_capped_no_cookie,"
																						"c.clientid AS client_id,"
																						"c.expire_time AS expire_time,"
																						"c.revenue_type AS revenue_type,"
																						"c.ecpm_enabled AS ecpm_enabled,"
																						"c.ecpm AS ecpm,"
																						"ct.status AS tracker_status,"
																					// "d.htmlcache REGEXP 'srcs?=s?[\\'\"]http:' AS html_ssl_unsafe,"
																					// "d.imageurl REGEXP '^hdap_campaigns_trackersttp:' AS url_ssl_unsafe,"	
																						"c.orderid AS order_id"
																						" FROM "
    																						"`dap_banners` AS d"
        																					" JOIN "
    																						"`dap_ad_zone_assoc` AS az ON (d.bannerid = az.ad_id)"
        																					" JOIN "
    																						"`dap_campaigns` AS c ON (c.campaignid = d.campaignid)"
        																					" LEFT JOIN "
   																							"`dap_campaigns_trackers` AS ct ON (ct.campaignid = c.campaignid)"
																							" WHERE "
    																						"az.zone_id = ?"
																							" AND d.status <= 0"
          																					" AND c.status <= 0"
																							" AND (exists (select * from `dap_schedules` as ds where ds.campaignid = c.campaignid AND ds.startdate<= ? and ds.enddate>=? ) OR not exists (select * from `dap_schedules` as ds where ds.campaignid = c.campaignid)) ";

